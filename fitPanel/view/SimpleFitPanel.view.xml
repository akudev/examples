<mvc:View
 	class="sapUiSizeCompact"
	height="100%"
	width="450px"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.m"
	xmlns:l="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
	controllerName="localapp.controller.SimpleFitPanel">
	<Page id="simplefitpanel_page" title="Simple Fit Panel" showHeader="true">
	<VBox class="sapUiSizeCompact">
			<form:Form id="FormToolbar"
				editable="true"
				ariaLabelledBy="Title1">
				<form:layout>
					<form:ResponsiveGridLayout
						labelSpanXL="4"
						labelSpanL="3"
						labelSpanM="4"
						labelSpanS="4"
						adjustLabelSpan="false"
						emptySpanXL="2"
						emptySpanL="0"
						emptySpanM="0"
						emptySpanS="0"
						columnsXL="2"
						columnsL="1"
						columnsM="1"
						columnsS="3"
						singleContainerFullSize="false" />
				</form:layout>
				<form:formContainers>
					<form:FormContainer ariaLabelledBy="dataset">						
						<form:FormElement>
							<Label text="Data Set:" labelFor="DataSet">
								<layoutData>
									<l:GridData span="XL1 L4 M3 S3" />
								</layoutData>
							</Label>
							<form:fields >
								<ComboBox id="DataSet" selectedKey="{/fSelectDataId}" items="{ path: '/fDataSet', sorter: { path: 'fSet' } }">
		               				<core:Item key="{fId}" text="{fSet}" />
		               				<layoutData>
										<l:GridData span="XL1 L4 M3 S7" />
									</layoutData>
		        				</ComboBox>	
							</form:fields>
							<Title level="H3" text="Fit Function">
								<layoutData>
									<l:GridData span="XL1 L4 M3 S12" />
								</layoutData>
							</Title>
							<form:fields>
								<Label text="Type:" labelFor="TypeFunc">
									<layoutData>
										<l:GridData span="XL1 L4 M3 S2" />
									</layoutData>
								</Label>
								<ComboBox id="TypeFunc" selectedKey="{/fSelectTypeId}" items="{ path: '/fTypeFunc', sorter: { path: 'fFunc' } }" change="selectTypeFunc">
		               				<core:Item key="{fId}" text="{fSet}" />
		               				<layoutData>
										<l:GridData span="XL1 L4 M3 S4" />
									</layoutData>
						        </ComboBox>    
						    </form:fields>
						   	<form:fields>
						        <ComboBox id="TypeXY" selectedKey="{/fSelectXYId}" items="{ path: '/fTypeXY', sorter: { path: 'fXY' } }" change="onTypeXYChange">
					               <core:Item key="{fId}" text="{fSet}" />
						             <layoutData>
										<l:GridData span="XL2 L1 M2 S4" />
									</layoutData> 
						        </ComboBox>      
							</form:fields>
						</form:FormElement>
					</form:FormContainer>
					<form:FormContainer ariaLabelledBy="Operation">
						<form:toolbar>
							<Toolbar>
								<Title id="operation" text="Operation" level="H4" titleStyle="H4"/>
								<ToolbarSpacer />
							</Toolbar>
						</form:toolbar>
						<form:FormElement>
							<form:fields>
								<RadioButtonGroup columns="4" width="100%" selectedIndex="{/fOperation}">
									<buttons>
										<RadioButton id="RB1-1" text="Nop"/>
										<RadioButton id="RB1-2" text="Add"/>
										<RadioButton id="RB1-3" text="NormAdd"/>
										<RadioButton id="RB1-4" text="Conv"/>
									</buttons>
									<layoutData>
										<l:GridData span="XL2 L1 M2 S12" />
									</layoutData> 
								</RadioButtonGroup>	
								<TextArea id="OperationText" value=" " valueLiveUpdate="{/fOpTextUpdate}">
									<layoutData>
										<l:GridData span="XL2 L1 M2 S12" />
									</layoutData>
								</TextArea>
								<Label text="Selected " labelFor="OperationText">
									<layoutData>
										<l:GridData span="XL2 L1 M2 S12" />
									</layoutData> 
								</Label>
								<Text id="selectedOpText" text=" "/>
								<Button text="Set Parameters..."/>	
							</form:fields>
						</form:FormElement>
					</form:FormContainer>
					<form:FormContainer>
						<form:FormElement>
							<form:fields>
								<IconTabBar id="Gen-Min">
							    <!-- General Item -->
							    	<items>
							    		<IconTabFilter text="General">
							    			<l:VerticalLayout class="sapUiNoMargin" >
												<Title level="H3" text="Method"/>
												<ComboBox id="Method" selectedKey="{/fSelectMethodId}" items="{ path: '/fMethod', sorter: { path: 'fMethod' } }">
							               			<core:Item key="{fId}" text="{fSet}" />
							        			</ComboBox>
												<l:HorizontalLayout class="sapUiSizeCozy">
							    					<CheckBox id="linearFit" text="Linear Fit" selected="{/fLinear}" />
							    					<CheckBox id="robust" text="Robust" enabled="{= ${/fLinear} === true}" selected="{/fRobust}"/>
								    				<StepInput
														value="0.95"
														min="0.01"
														max="1"
														step="0.01"
														width="95px"
														displayValuePrecision = "2"
														enabled="{= ${/fRobust} === true}"/>
												</l:HorizontalLayout>
												<Title level="H3" text="Fit Options"/>
												<l:HorizontalLayout class="sapUiSizeCompact">
													<VBox>
														<CheckBox id="Integral" text="Integral" selected="{/fIntegral}"/>
														<CheckBox text="Best Errors" enabled="{= ${/fLinear} !== true}" selected="{/fBestErrors}"/>
														<CheckBox text="All weights = 1" selected="{/fWeights}" enabled="{= ${/fBins} === false}" />
														<CheckBox text="Empty bins, weights=1" selected="{/fBins}" enabled = "{= ${/fWeights} === false}"/>
													</VBox>
													<VBox>
														<CheckBox text="Use range" selected="{/fUseRange}"/>
														<CheckBox text="Improve fit results" enabled="{= ${/fLinear} !== true}" selected="{/fImproveFit}"/>
														<CheckBox text="Add to list" selected="{/fAddList}"/>
														<CheckBox text="Use gradient" selected="{/fUseGradient}"/>
													</VBox>
												</l:HorizontalLayout>
												<Title level="H3" text="Draw Options"/>
							    				<l:HorizontalLayout class="sapUiSizeCompact">
								    				<VBox>
														<CheckBox text="SAME" selected="{/fSame}"/>
														<CheckBox text="No Drawing" selected ="{/fNoDrawing}"/>
														<CheckBox id = "noStore" text="Do not store/draw" selected="{/fNoStore}" select="storeChange"/>
													</VBox>
												</l:HorizontalLayout>
											</l:VerticalLayout>
											<l:VerticalLayout width="100%" >
						    					<RangeSlider id="Slider" enableTickmarks="true" range="{/fRange}" min="{/fMinRange}" max="{/fMaxRange}" step="{/fStep}" width="80%"   />
						    				</l:VerticalLayout>
							    		</IconTabFilter>
							    		<IconTabFilter text="Minimization">
							    		<!-- Minimization Item -->
							    			<l:VerticalLayout id="libraryContainer" class="sapUiSizeCompact">
												<l:BlockLayoutCell title="Library">
													<RadioButtonGroup id="libraryRB" columns="3" width="100%"  selectedIndex="{/fLibrary}" select="selectRB">
														<buttons>
															<RadioButton id="RB2-1" text="Minuit"/>
															<RadioButton id="RB2-2" text="Minuit2"/>
															<RadioButton id="RB2-3" text="Fumili"/>
															<RadioButton id="RB2-4" text="GSL" enabled="false"/>
															<RadioButton id="RB2-5" text="Genetics"/>
														</buttons>
													</RadioButtonGroup>	
												</l:BlockLayoutCell>
												<l:BlockLayoutCell title="Method" class="sapUiSizeCompact">
													<ComboBox id="MethodMin" selectedKey="{/fSelectMethodMinId}" items="{ path: '/fMethodMin', sorter: { path: 'fMethodMin' } }">
								               			<core:Item key="{fId}" text="{fSet}" />
								        			</ComboBox>
												</l:BlockLayoutCell>
												<l:BlockLayoutCell title="Settings">
													<Text text="Use ENTER key to validate a new value or click on Reset button to set the defaults."/>
												</l:BlockLayoutCell>
												<form:SimpleForm 
													layout="ResponsiveGridLayout"
													editable="true"
													adjustLabelSpan="true"
													labelSpanXL="4"
													labelSpanL="3"
													labelSpanM="3"
													labelSpanS="8"
													emptySpanXL="0"
													emptySpanL="0"
													emptySpanM="0"
													emptySpanS="0"
													columnsXL="2"
													columnsL="1"
													columnsM="1"
													columnsS="1">
													<Label text="Error Definition (default = 1)" labelFor="testError"/>
													<Input
														id="testError"
														type="Text"
														placeholder="1.00">
													</Input>
													<Label text="Max tolerance (precision)" labelFor="maxTolerance"/>
													<Input
														id="maxTolerance"
														type="Text"
														placeholder="0.01">
													</Input>
													<Label text="Max number of interations" labelFor="maxInterations"/>
													<Input
														id="maxInterations"
														type="Text"
														placeholder="0">
													</Input>
											    </form:SimpleForm>	
												<l:BlockLayoutCell title="Print Options">
													<RadioButtonGroup columns="3" width="100%"  selectedIndex="0">
														<buttons>
															<RadioButton id="Print-1" text="Default"/>
															<RadioButton id="Print-2" text="Verbose"/>
															<RadioButton id="Print-3" text="Quiet"/>
														</buttons>
													</RadioButtonGroup>		
												</l:BlockLayoutCell>						
							    			</l:VerticalLayout>
							    		</IconTabFilter>
							    	</items>
							    </IconTabBar>

			    			</form:fields>
		    			</form:FormElement>
		    		</form:FormContainer>
						
				</form:formContainers>
			</form:Form>
		</VBox>
		<!-- Buttons in Footer -->
	    <Toolbar>
	    	<Button text="Update" />
	    	<Button text="Fit" press="doFit"/>
	    	<Button text="Reset"/>
	    	<Button text="Close" press="closePanel"/>
	    </Toolbar>
	</Page>
</mvc:View>